<main class="h-screen max-h-screen w-full flex flex-col justify-start items-center gap-5 mt-3 ">
    
    <div class="flex flex-col justify-center items-center px-5 gap-2 ">
    <h1 class="text-4xl font-bold font-sans ">Your UniqId</h1>

        <img class="h-24" src="img/boyDefault.png" alt="">
        <p class="bg-gray-200 px-4 py-2 rounded-lg">
            Your can share this id to your friends , without hesitaiton. And they can enter your id and can sent to chat request.
        Same way you if you have your friend's id</p>
      </div>
  <div class=" px-10 py-6 rounded-md ring-1 ring-black space-y-4 gap-4">
      <form id="myForm" action="/messages" method="get" class="flex flex-col justify-center gap-2 ">
         <label for="name">Your Unique Id</label>
          <input id="userId" disabled value="<%- id %>" type="text" class="outline-none focus:ring-1 ring-black ring-1 py-1 rounded-full px-4">
        <div class="mt-4 flex gap-4 justify-center items-center ">
            <button id="next" class="bg-black text-white font-semibold  rounded-full py-2 px-8">Next</button>
        </div>
        <button id="copy" class="bg-gray-200 ring-1 ring-black text-black font-semibold  rounded-full py-2 px-8 ">Copy</button>

</div>


  </div>
  
  </main>

  <script>
    const nextBtn = document.getElementById('next');
    const userIdInput = document.getElementById("userId");
const copyButton = document.getElementById("copy");
const myForm = document.getElementById("myForm");

    

//     function setUserIdCookie() {

        
//         const userId  =  userIdInput.value
//   document.cookie = `userId=${userId}; path=/; expires=30;`; // Expires in 30 days
// }

// Call this function after successful login on the /Messages page
// nextBtn.addEventListener('click', ()=>{
//     event.preventDefault(); 
//     alert("hi")
//     console.log("pressed")
//     setUserIdCookie();
//   alert("Cookies set ");
// myForm.submit();
// })



// To copy the id by copy button 


copyButton.addEventListener("click", function() {
    event.preventDefault(); 
  const textToCopy = userIdInput.value;
  // Modern approach using Clipboard API (if supported)
  if (navigator.clipboard) {
    navigator.clipboard.writeText(textToCopy).then(function() {
      alert("Copying to clipboard successful!");
    }, function(err) {
      alert("Failed to copy:", err);
    });
  } else {
    // Fallback for older browsers (less secure)
    const textArea = document.createElement("textarea");
    textArea.value = textToCopy;
    document.body.appendChild(textArea);
    textArea.select();
    document.execCommand("copy");
    textArea.remove();
    alert("Copied to clipboard (fallback method).");
  }
});


  </script>